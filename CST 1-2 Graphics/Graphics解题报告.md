#Graphics解题报告
> 作者：计26 郑睿阳 2022010849

##数据结构
* 采用4个 `long long` 类型的动态数组存储线段以及点的信息。分别是 `seg_x`, `seg_y`, `x`, `y`。 

##算法
* 关键算法是 $ToLeft$ 测试和二分查找。其中，$ToLeft$ 测试利用了向量的叉积运算，从而能够判断以 $B$ 为顶角的 $∠ABC$ 中 $BC$ 与 $AB$ 的方位关系（在左边还是在右边）。
* 二分查找的对象是针对所有的 $n$ 条线段构成的 $n-1$ 个区间，查找成功的标准是：目标点落在该区间左侧线段的右边，右侧线段的左边（也就是落在区间当中，刚才的描述实际上是利用 $ToLeft$ 进行搜索的方法）。二分查找的前提是一个有序的线段序列，其排序的标准是 $y$ 轴上的点纵坐标从小到大且 $x$ 轴上的点横坐标从小到大。这里对于两坐标轴上的排序采用了递归写法的快速排序。

##算法的正确性
* 利用上述算法查找相应位置的正确性应当是显然的。

##算法的时空复杂度
### 时间
* 整个过程当中，时间复杂度主要来源于快速排序，二分搜索。每次查找的过程中利用的 $ToLeft$ 测试，判断某个点是否落在某个
区间内的操作都只需要消耗 $O(1)$ 时间。
* 快速排序的时间复杂度是 $O(nlogn)$ 的。
* $m$ 次二分查找，每次的时间复杂度是 $O(mlogn)$ 的。因此，整体的时间复杂度应当是 $O((n+m)logn)$。

### 空间
* 整过过程当中，使用了两个规模为 $n$ 的数组存储坐标轴上的点；使用了两个规模为 $m$ 的数组存储每次询问的点。同时，由于本体当中排序算法采用的是快速排序，且在参数当中传入的是指针，故不会带来额外的空间开销。因此，总时间复杂度是 $O(m+n)$ 。

##解题时遇到的一些“坑”
* 本题并没有特别卡时间，但是使用 `cin` 和 `cout` 会带来较大的时间开销从而导致超时。正确的做法应当是使用 `scanf` 与 `printf` 作为输入输出。同时，$2^{32}$ 的数据警示我们要注意 `long long` 的使用。